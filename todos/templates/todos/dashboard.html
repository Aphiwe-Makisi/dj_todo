{% extends 'todos/base.html' %}

{% block content %}
  <div class="container">
    <h1 class="text-center mt-3">Welcome, {{ user.first_name }}&nbsp;ðŸ‘‹</h1>
    <hr>  

    <div class="wrapper bg-light p-4">
      <div class="text-center">
        <h5><a href="{% url 'todos:create' %}" class="text-decoration-none"><i class="fa-solid fa-plus"></i>&nbsp;&nbsp;Add new todo</a></h5>
      </div>
      <hr>
      <div>
        {% if todos.count == 0 %}
          <h3 class="text-center text-warning mt-3">You don't have any todo items yet.</h3>

        {% else %}
          {% for todo in todos %}
            <div class="mt-3 todo-wrapper shadow">
              
              <div class="row">
                <div class="col-2">
                  {{todo.title}}
                </div>
                <div class="col-6">
                  {{ todo.description }}
                </div>
                <div class="col-4 d-flex">
                  <a class="p-1 mx-1 text-decoration-none" href="{% url 'todos:update' todo.id%}">Update</a>
                </div>
              </div>
              <hr>
              <div class="d-flex justify-content-between">
                <div class="row">
                  <div class="col-md-4">
                    <small>Created: {{ todo.date_created }}</small>
                  </div>
                  <div class="col-md-4">
                    <small>Updated: {{ todo.date_updated }}</small>
                  </div>
                  <div class="col-md-4">
                    <small>Due: {{ todo.due_date }}</small>
                  </div>
                </div>            
              </div>
            </div>
          {% endfor %}

        {% endif %}
      </div>

      <div >

      </div>
    </div>
  </div>
{% endblock content %}